---
export const prerender = false 
import useStrapi from "@/utils/strapi"
import GenericLayout from "@/layouts/generic.astro"
import DynamicZone from "@/components/dynamicZone/index.astro"

const { slug } = Astro.params

const response = await useStrapi.collection('pages').find({
    filters: {
        slug: {
            $eq: slug
        }
    }, 
    populate: "*"
})

const data = response.data[0]

---

<GenericLayout>
    <DynamicZone composites={ data?.composites}/>
</GenericLayout>